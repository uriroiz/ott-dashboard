# 🔄 תהליך העבודה המלא - OTT Dashboard

## 📋 סקירה כללית

אתה עובד על **שני branches**:
- 🔵 **dev** - לבדיקות מקומיות (לא מפורסם)
- 🟢 **main** - לפרסום ללקוחות (מפורסם ב-Vercel)

---

## 🎯 תהליך עבודה חודשי

### 1️⃣ **קבלת קובץ Excel חדש**

```
📂 שמור את basketball_data.xlsx בתיקיית הפרויקט:
C:\Users\urir\OneDrive - Pixellot\Clients\IBBA\League_Stats\ott-dashboard\
```

---

### 2️⃣ **בדיקה מקומית**

#### הפעל את הסקריפט:
```bash
test-local.bat
```

#### מה קורה:
1. ✅ בודק שאתה על `dev` branch
2. 🔄 ממיר את ה-Excel ל-JSON
3. 💾 שומר בGit (מקומי בלבד)
4. 🚀 מפעיל שרת מקומי ב-`http://localhost:3000`

#### בדוק:
- ✅ הנתונים נכונים?
- ✅ התאריכים תקינים?
- ✅ הגרפים נראים טוב?
- ✅ הטבלאות מלאות?
- ✅ המיון עובד?
- ✅ הסיסמה עובדת? (אם מוגדרת מקומית)

**אם משהו לא בסדר:**
- 🔧 תקן את הבעיה
- 🔄 הרץ `test-local.bat` שוב
- 🔁 חזור על זה עד שהכל מושלם

---

### 3️⃣ **פרסום ל-Vercel** (רק אחרי שהכל בסדר!)

#### הפעל את הסקריפט:
```bash
publish.bat
```

#### מה קורה:
1. ⚠️  **אישור ראשון**: "האם הכל נראה טוב?"
2. 💾 שמירת השינויים ב-`dev` branch
3. 📤 העלאה ל-GitHub (`dev` branch)
4. 🔀 Merge מ-`dev` ל-`main`
5. 🚀 העלאה ל-GitHub (`main` branch)
6. 🎯 **Vercel מפרסם אוטומטית!**
7. 🔄 חזרה ל-`dev` branch לעבודה הבאה

**זמן עד שהאתר מתעדכן:** 2-3 דקות

---

## 🎨 תרשים זרימה

```
┌──────────────────────────────────────────────┐
│ 📂 קובץ Excel חדש                            │
│    basketball_data.xlsx                      │
└──────────────────────────────────────────────┘
                    ↓
┌──────────────────────────────────────────────┐
│ 🧪 test-local.bat                            │
│ • המרה ל-JSON                                │
│ • שרת מקומי                                  │
│ • בדיקה מקומית (dev branch)                 │
└──────────────────────────────────────────────┘
                    ↓
      ┌─────────────────────────┐
      │   הכל נראה טוב?         │
      └─────────────────────────┘
         ↙️            ↘️
    ❌ לא           ✅ כן
        ↓               ↓
    🔧 תקן    ┌──────────────────────────────────┐
    חזור ←─   │ 🚀 publish.bat                   │
              │ • שמירה ב-dev                    │
              │ • merge ל-main                   │
              │ • פרסום ל-Vercel                 │
              └──────────────────────────────────┘
                           ↓
              ┌──────────────────────────────────┐
              │ 🌐 Vercel מתעדכן (2-3 דקות)     │
              │ https://ott-dashboard.vercel.app │
              └──────────────────────────────────┘
```

---

## 📝 פקודות Git ידניות (אם צריך)

### בדיקת branch נוכחי:
```bash
git branch
```

### מעבר ל-dev:
```bash
git checkout dev
```

### מעבר ל-main:
```bash
git checkout main
```

### ביטול שינויים:
```bash
git checkout -- .
```

---

## 🆘 פתרון בעיות

### בעיה: "אני על main במקום dev"
```bash
git checkout dev
```

### בעיה: "יש שינויים שלא נשמרו"
אם אתה רוצה לשמור:
```bash
git add .
git commit -m "שינויים"
```

אם אתה רוצה למחוק:
```bash
git checkout -- .
```

### בעיה: "הסקריפט לא עובד"
הרץ ידנית:
```bash
# המרה
node convert.cjs basketball_data.xlsx public/data/ott-data.json

# שרת מקומי
npm run dev
```

---

## ✅ Check List לפני פרסום

- [ ] קובץ Excel עדכני בתיקייה
- [ ] הרצתי `test-local.bat`
- [ ] בדקתי את כל הנתונים בשרת המקומי
- [ ] הכל נראה תקין - טבלאות, גרפים, תאריכים
- [ ] סגרתי את השרת המקומי (Ctrl+C)
- [ ] מוכן לפרסם → הרץ `publish.bat`

---

## 🎉 סיכום

**עבודה רגילה:** `test-local.bat` ← בדיקות ללא סוף, אף אחד לא רואה  
**פרסום ללקוחות:** `publish.bat` ← רק אחרי שהכל מושלם

**פשוט. בטוח. יעיל.** ✨

